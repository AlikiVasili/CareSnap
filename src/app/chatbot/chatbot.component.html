<app-card>
  <div class="header-container">
    <h1>CareSnap</h1>
    @if(!isLoggedIn){
      <button class="loginButton" (click)="onLoginButtonClick()">
        <i class="fas fa-user">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        </i>
        <span>Login</span>
      </button>
    }
    @else{
      <button class="loginButton" (click)="onLogoutButtonClick()">
        <i class="fas fa-sign-out-alt">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        </i>
        <span>Logout</span>
      </button>
    }
  </div>

  <div class="chat-container">
    <section class="chat-body" #chatBody>
      <ul>
        @for (message of chatbotBodyMessages; track message.id){
          <li>
            <app-message [message]="message"></app-message>
          </li>
        }
      </ul>
    </section>
    <div class="chat-footer">
      <input
        type="text"
        id="userInput"
        [(ngModel)]="userInput"
        (keydown)="onEnterPress($event)"
        placeholder="Type your message here..."
      />
      <button (click)="onSendingMessage()">Send</button>
    </div>
  </div>

  <!-- Conditionally display the login form -->
  <app-login-form *ngIf="showLoginForm" (login)="onLogin($event)" (cancel)="onCancelLogin()"></app-login-form>
</app-card>
